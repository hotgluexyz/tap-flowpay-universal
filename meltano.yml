version: 1
send_anonymous_usage_stats: true
project_id: "tap-flowpay-universal"
default_environment: test
environments:
- name: test
plugins:
  extractors:
  - name: "tap-flowpay-universal"
    namespace: "tap_flowpay_universal"
    pip_url: -e .
    capabilities:
    - state
    - catalog
    - discover
    - about
    - stream-maps

    settings:
    - name: url
      label: URL
      description: URL of the data source

    - name: authType
      label: Authentication Type
      description: "Supported authentication types: API_KEY | JWT"

    - name: apiKey
      label: API_KEY Value
      description: "Utilized when authType is set to API_KEY"
      sensitive: true

    - name: apiKeyHeaderName
      label: API_KEY Header Name
      description: "Utilized when authType is set to API_KEY"

    - name: clientId
      label: Client Id
      description: "Utilized when authType is set to JWT"

    - name: secret
      label: Secret
      description: "Utilized when authType is set to JWT"
      sensitive: true

    - name: audience
      label: Audience
      description: "Utilized when authType is set to JWT"

    - name: tokenEndpointUrl
      label: Token Endpoint URL
      description: "Utilized when authType is set to JWT"

    - name: merchantId
      label: Merchant Id
      description: "Specify a customer when querying the data source"

    - name: tenantId
      label: Tenant Id
      description: "[Optional] Specify a customerâ€™s operation when querying the data source"

    settings_group_validation:
    - [url, authType]
    - [apiKey, apiKeyHeaderName]  # When authType is API_KEY
    - [clientId, secret, audience, tokenEndpointUrl]  # When authType is JWT

    config:
      url: 'https://api.flowpay-universal.com'
      authType: "API_KEY"
      apiKey: "token"
      apiKeyHeaderName: "Token"
      merchantId: "test_merchant"


  loaders:
  - name: target-jsonl
    variant: andyh1203
    pip_url: target-jsonl
